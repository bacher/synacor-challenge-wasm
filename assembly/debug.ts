import { reportOffset } from './env';

export const labelsOffsets: StaticArray<u16> = [
  347, 358, 368, 397, 424, 453, 484, 495, 500, 564, 590, 684, 708, 731, 845,
  941, 978, 1000, 1023, 1074, 1093, 1118, 1139, 1158, 1177, 1208, 1239, 1262,
  1289, 1312, 1381, 1414, 1437, 1480, 1507, 1563, 1566, 1618, 1645, 1666, 1706,
  1711, 1714, 1730, 1787, 1816, 1819, 1830, 1852, 1880, 1886, 1952, 2019, 2040,
  2047, 2060, 2092, 2099, 2112, 2204, 2210, 2233, 2236, 2241, 2252, 2276, 2296,
  2309, 2312, 2734, 2742, 2770, 2791, 2848, 2885, 2924, 2939, 2944, 2950, 3006,
  3032, 3104, 3146, 3189, 3193, 3216, 3238, 3302, 3326, 3457, 3481, 3539, 3563,
  3601, 3627, 3651, 3694, 3940, 4272, 4369, 4385, 4391, 4398, 4434, 4565, 4574,
  4596, 4608, 4645, 4650, 4657, 4717, 4858, 4882, 5017, 5312, 5336, 5579, 5605,
  5636, 5714, 5871, 5918, 5956, 5959, 5989, 6019, 6022, 6035, 6048,
];

export const functionsOffsets: StaticArray<u16> = [
  0, 1, 2, 5, 1285, 1287, 1458, 1518, 1528, 1531, 1543, 1571, 1588, 1605, 1619,
  1648, 1667, 1723, 1767, 1841, 2001, 2125, 2149, 2158, 2178, 2248, 2281, 2964,
  3245, 3400, 3568, 3656, 3727, 3742, 3776, 3786, 3806, 3893, 3992, 4009, 4045,
  4062, 4096, 4113, 4130, 4147, 4164, 4218, 4279, 4405, 4515, 4533, 4611, 4660,
  4690, 4720, 4799, 4885, 4977, 5360, 5377, 5394, 5411, 5428, 5445, 5721, 5814,
  5823, 5846, 5876, 5893, 5921, 5964, 5990, 6027,
];

export function reportOp(opCode: u16, opOffset: u16): void {
  switch (opCode) {
    case 0:
    case 18:
    case 21:
      reportOffset(1, opOffset, 1);
      break;
    case 2:
    case 3:
    case 6:
    case 17:
    case 19:
    case 20:
      reportOffset(1, opOffset, 2);
      break;
    case 1:
    case 7:
    case 8:
    case 14:
    case 15:
    case 16:
      reportOffset(1, opOffset, 3);
      break;
    case 4:
    case 5:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
      reportOffset(1, opOffset, 4);
      break;
    default:
      throw new Error(`Invalid Operation (${opCode})`);
  }
}
