import { reportOffset } from './env';

export const labelsOffsets: StaticArray<u16> = [
  369, 380, 390, 419, 446, 475, 506, 517, 522, 586, 612, 706, 730, 753, 867,
  963, 1000, 1022, 1045, 1096, 1115, 1140, 1161, 1180, 1199, 1230, 1261, 1284,
  1311, 1334, 1403, 1436, 1459, 1502, 1529, 1585, 1588, 1640, 1667, 1688, 1728,
  1733, 1736, 1752, 1809, 1838, 1841, 1852, 1874, 1902, 1908, 1974, 2041, 2062,
  2069, 2082, 2114, 2121, 2134, 2171, 2226, 2232, 2255, 2258, 2263, 2274, 2298,
  2318, 2331, 2334, 2756, 2764, 2792, 2813, 2870, 2907, 2946, 2961, 2966, 2972,
  3028, 3054, 3126, 3168, 3211, 3215, 3238, 3260, 3324, 3348, 3479, 3503, 3561,
  3585, 3623, 3649, 3673, 3716, 3962, 3980, 3997, 4014, 4031, 4050, 4067, 4084,
  4118, 4135, 4152, 4294, 4391, 4407, 4413, 4420, 4456, 4587, 4596, 4618, 4630,
  4667, 4672, 4679, 4712, 4739, 4880, 4904, 5039, 5334, 5358, 5601, 5627, 5658,
  5736, 5893, 5940, 5978, 5981, 6011, 6041, 6044, 6057, 6070,
];

export const functionsOffsets: StaticArray<u16> = [
  0, 1, 2, 5, 1307, 1309, 1480, 1540, 1550, 1553, 1565, 1593, 1610, 1627, 1641,
  1670, 1689, 1745, 1789, 1863, 2023, 2147, 2180, 2200, 2270, 2303, 2986, 3267,
  3384, 3422, 3590, 3678, 3749, 3764, 3798, 3808, 3828, 3915, 4031, 4101, 4169,
  4186, 4189, 4206, 4223, 4240, 4301, 4427, 4537, 4555, 4633, 4682, 4742, 4821,
  4907, 4999, 5382, 5399, 5416, 5433, 5450, 5467, 5836, 5845, 5868, 5898, 5915,
  5943, 5986, 6012, 6049,
];

export function reportOp(opCode: u16, opOffset: u16): void {
  switch (opCode) {
    case 0:
    case 18:
    case 21:
      reportOffset(1, opOffset, 1);
      break;
    case 2:
    case 3:
    case 6:
    case 17:
    case 19:
    case 20:
      reportOffset(1, opOffset, 2);
      break;
    case 1:
    case 7:
    case 8:
    case 14:
    case 15:
    case 16:
      reportOffset(1, opOffset, 3);
      break;
    case 4:
    case 5:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
      reportOffset(1, opOffset, 4);
      break;
    default:
      throw new Error(`Invalid Operation (${opCode})`);
  }
}
